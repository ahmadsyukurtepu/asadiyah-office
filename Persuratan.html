<div class="bg-white rounded-[40px] p-8 shadow-sm border border-gray-100 animate-fade-in">
    <div class="flex justify-between items-center mb-8">
        <div>
            <h2 class="text-3xl font-black text-gray-800 uppercase tracking-tight">Arsip Surat</h2>
            <p class="text-gray-400 font-bold text-[10px] uppercase tracking-widest">Database ID: Terhubung</p>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <input type="text" id="noSurat" placeholder="Nomor Surat" class="p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-bold">
        <input type="text" id="perihal" placeholder="Perihal Surat" class="p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-bold">
    </div>
    
    <button onclick="prosesSimpanSurat()" id="btnSimpan" class="w-full bg-green-800 text-white py-4 rounded-2xl font-black shadow-lg hover:bg-green-700 transition-all">
        SIMPAN KE DB_SURAT
    </button>
</div>

<script>
    async function prosesSimpanSurat() {
        const btn = document.getElementById('btnSimpan');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Mengirim...';

        const payload = {
            action: "simpanSurat",
            targetID: CONFIG.DB.SURAT, // Membaca dari config.js
            noSurat: document.getElementById('noSurat').value,
            perihal: document.getElementById('perihal').value,
            tanggal: new Date().toLocaleDateString('id-ID')
        };

        try {
            const response = await fetch(CONFIG.SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify(payload)
            });
            const res = await response.json();
            alert("Respon Server: " + res.message);
        } catch (e) {
            alert("Koneksi Gagal. Cek SCRIPT_URL di config.js");
        }
        btn.innerHTML = 'SIMPAN KE DB_SURAT';
    }
</script>
