<div class="bg-white rounded-[40px] p-8 shadow-sm border border-gray-100 animate-fade-in">
    <div class="flex justify-between items-center mb-8">
        <div>
            <h2 class="text-3xl font-black text-gray-800 uppercase tracking-tight text-orange-600">Agenda Pimpinan</h2>
            <p class="text-gray-400 font-bold text-[10px] uppercase tracking-widest">Sinkronisasi: CONFIG.DB.AGENDA</p>
        </div>
        <button onclick="document.getElementById('modalAgenda').classList.remove('hidden')" class="bg-orange-500 text-white px-6 py-3 rounded-2xl font-bold shadow-lg hover:scale-105 transition-all">
            <i class="fas fa-calendar-plus mr-2"></i> Tambah Agenda
        </button>
    </div>

    <div id="listAgenda" class="space-y-4">
        <div class="p-6 bg-gray-50 rounded-[30px] border border-gray-100 flex items-center justify-between">
            <div class="flex items-center gap-5">
                <div class="w-14 h-14 bg-white rounded-2xl flex flex-col items-center justify-center shadow-sm border border-orange-100">
                    <span class="text-[10px] font-black text-gray-400 uppercase">Feb</span>
                    <span class="text-xl font-black text-orange-600 leading-none">10</span>
                </div>
                <div>
                    <h4 class="font-black text-gray-800 uppercase">Rapat Pleno Pengurus</h4>
                    <p class="text-xs text-gray-400 font-bold"><i class="fas fa-map-marker-alt mr-1"></i> Aula Kampus IV</p>
                </div>
            </div>
            <span class="px-4 py-2 bg-orange-100 text-orange-600 rounded-xl text-[10px] font-black uppercase tracking-widest text-center">Mendatang</span>
        </div>
    </div>
</div>

<div id="modalAgenda" class="fixed inset-0 z-[50] flex items-center justify-center bg-black/50 backdrop-blur-sm hidden">
    <div class="bg-white w-full max-w-lg rounded-[40px] overflow-hidden shadow-2xl mx-4">
        <div class="p-8 space-y-4">
            <h3 class="text-xl font-black text-gray-800 uppercase">Input Agenda Baru</h3>
            <input type="date" id="tglAgenda" class="w-full p-4 bg-gray-50 rounded-2xl outline-none font-bold">
            <input type="text" id="kegiatan" placeholder="Nama Kegiatan" class="w-full p-4 bg-gray-50 rounded-2xl outline-none font-bold">
            <input type="text" id="lokasi" placeholder="Lokasi Acara" class="w-full p-4 bg-gray-50 rounded-2xl outline-none font-bold">
            <div class="flex gap-4">
                <button onclick="document.getElementById('modalAgenda').classList.add('hidden')" class="flex-1 py-4 font-bold text-gray-400">Batal</button>
                <button onclick="simpanAgenda()" id="btnSaveAgenda" class="flex-1 bg-orange-500 text-white py-4 rounded-2xl font-black shadow-lg">SIMPAN</button>
            </div>
        </div>
    </div>
</div>

<script>
    async function simpanAgenda() {
        const btn = document.getElementById('btnSaveAgenda');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';

        const payload = {
            action: "simpanAgenda",
            targetID: CONFIG.DB.AGENDA,
            tgl: document.getElementById('tglAgenda').value,
            kegiatan: document.getElementById('kegiatan').value,
            lokasi: document.getElementById('lokasi').value
        };

        try {
            const response = await fetch(CONFIG.SCRIPT_URL, { method: 'POST', body: JSON.stringify(payload) });
            const res = await response.json();
            alert(res.message);
            document.getElementById('modalAgenda').classList.add('hidden');
        } catch (e) { alert("Gagal Simpan"); }
        btn.innerHTML = 'SIMPAN';
    }
</script>
